<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“¦ ë³´ê´€í•¨ - Kanban Calendar Board</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}?v={{ range(1, 10000) | random }}">
    <style>
        /* ì„ì‹œ CSS - ìºì‹œ ìš°íšŒìš© */
        .archive-section {
            padding: 40px 20px !important;
            background: linear-gradient(135deg, #f5f7fa 0%, #e9ecef 100%) !important;
            min-height: calc(100vh - 80px) !important;
        }

        .archive-header {
            background: white !important;
            padding: 40px !important;
            border-radius: 20px !important;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08) !important;
            margin-bottom: 30px !important;
            display: flex !important;
            justify-content: space-between !important;
            align-items: center !important;
        }

        .archive-title-group {
            display: flex !important;
            align-items: center !important;
            gap: 24px !important;
        }

        .archive-icon {
            font-size: 64px !important;
            line-height: 1 !important;
        }

        .archive-title {
            font-size: 36px !important;
            font-weight: 700 !important;
            color: #2c3e50 !important;
            margin: 0 0 8px 0 !important;
        }

        .archive-subtitle {
            font-size: 16px !important;
            color: #7f8c8d !important;
            margin: 0 !important;
        }

        .archive-stats {
            display: flex !important;
            gap: 20px !important;
        }

        .stat-item {
            text-align: center !important;
            padding: 20px 30px !important;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
            border-radius: 16px !important;
            box-shadow: 0 4px 16px rgba(102, 126, 234, 0.4) !important;
            min-width: 120px !important;
        }

        .stat-number {
            display: block !important;
            font-size: 40px !important;
            font-weight: 700 !important;
            color: white !important;
            margin-bottom: 8px !important;
        }

        .stat-label {
            display: block !important;
            font-size: 13px !important;
            color: rgba(255, 255, 255, 0.95) !important;
            text-transform: uppercase !important;
            letter-spacing: 1px !important;
        }
    </style>
</head>
<body>
    <div id="projectGate" class="project-gate">
        <div class="project-gate-card">
            <span id="projectGateClose" class="close project-gate-close">&times;</span>
            <h2>í”„ë¡œì íŠ¸ ì„ íƒ</h2>
            <p class="project-gate-subtitle">ì ‘ì†í•  í”„ë¡œì íŠ¸ë¥¼ ê³ ë¥´ê³  ë¹„ë°€ë²ˆí˜¸ 4ìë¦¬ë¥¼ ì…ë ¥í•˜ì„¸ìš”.</p>
            <div class="project-gate-field">
                <label for="projectSelect">í”„ë¡œì íŠ¸</label>
                <select id="projectSelect"></select>
            </div>
            <div class="project-gate-field">
                <label for="projectPin">ë¹„ë°€ë²ˆí˜¸ (4ìë¦¬)</label>
                <input type="password" id="projectPin" maxlength="4" inputmode="numeric" pattern="[0-9]{4}" autocomplete="one-time-code">
            </div>
            <button id="projectEnterBtn" class="btn-primary">ì ‘ì†</button>
            <div id="projectError" class="project-error"></div>
        </div>
    </div>
    <header>
        <h1>ğŸ“‹ Kanban Calendar Board</h1>
        <div class="header-actions">
            <span id="currentProjectBadge" class="project-badge">í”„ë¡œì íŠ¸ ì„ íƒ í•„ìš”</span>
            <button id="switchProjectBtn" class="btn-secondary">í”„ë¡œì íŠ¸ ë³€ê²½</button>
            <div class="nav-tabs">
                <a href="/" class="nav-tab">
                    ğŸ“Œ í™œì„± ì‘ì—…
                </a>
                <a href="/archive" class="nav-tab active">
                    ğŸ“¦ ë³´ê´€í•¨
                </a>
            </div>
        </div>
    </header>

    <!-- Archive í˜ì´ì§€ -->
    <section class="archive-section">
        <div class="archive-container">
            <!-- í—¤ë” ì˜ì—­ -->
            <div class="archive-header">
                <div class="archive-title-group">
                    <div class="archive-icon">ğŸ“¦</div>
                    <div>
                        <h1 class="archive-title">ë³´ê´€ëœ ì¹´ë“œ</h1>
                        <p class="archive-subtitle">ì™„ë£Œëœ ì‘ì—…ì„ ë³´ê´€í•˜ê³  ê´€ë¦¬í•˜ì„¸ìš”</p>
                    </div>
                </div>
                <div class="archive-stats" id="archiveStats">
                    <div class="stat-item">
                        <span class="stat-number" id="totalCards">0</span>
                        <span class="stat-label">ì „ì²´ ì¹´ë“œ</span>
                    </div>
                </div>
            </div>

            <!-- ì¹´ë“œ ê·¸ë¦¬ë“œ -->
            <div class="archive-grid" id="archiveGrid">
                <!-- ë³´ê´€ëœ ì¹´ë“œë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë¨ -->
            </div>
        </div>
    </section>

    <!-- ì¹´ë“œ ìƒì„¸ ëª¨ë‹¬ -->
    <div id="detailModal" class="modal">
        <div class="modal-content modal-large">
            <span class="close" id="closeDetail">&times;</span>
            <div id="detailContent"></div>
        </div>
    </div>

    <script>
        window.SUPABASE_URL = "{{ supabase_url }}";
        window.SUPABASE_KEY = "{{ supabase_key }}";
    </script>
    <script src="{{ url_for('static', filename='js/archive.js') }}"></script>
</body>
</html>
